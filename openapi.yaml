{"openapi":"3.0.1","info":{"title":"Explore-with-me Api","description":"Основной сервис"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"User: комментарии","description":"Управление комментариями"},{"name":"Admin: комментарии","description":"Просмотр и удаление комментариев"},{"name":"Guest: категории","description":"Просмотр категорий событий"},{"name":"Guest: подборки событий","description":"Просмотр подборок событий"},{"name":"Admin: пользователи","description":"Управление пользователями"},{"name":"Guest: события","description":"Просмотр событий"},{"name":"Admin: подборки событий","description":"Управление подборками событий"},{"name":"User: события","description":"Просмотр, создание и обновление событий. Просмотр и обновление статуса заявок на участие в событиях пользователя."},{"name":"Admin: категории","description":"Управление категориями событий"},{"name":"User: заявки","description":"Просмотр, создание и удаление заявок"},{"name":"Admin: события","description":"Просмотр и обновление событий"}],"paths":{"/users/{userId}/requests":{"get":{"tags":["User: заявки"],"summary":"Получение списка заявок пользователя","operationId":"getRequests","parameters":[{"name":"userId","in":"path","description":"Id пользователя","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RequestDto"}}}}},"404":{"description":"Нет пользователя с данным id"}}},"post":{"tags":["User: заявки"],"summary":"Создание заявки на участие в событии","operationId":"createRequest","parameters":[{"name":"userId","in":"path","description":"Id пользователя","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"eventId","in":"query","description":"Id события","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"201":{"description":"Заявка создана","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RequestDto"}}}},"404":{"description":"Нет события с данным id"}}}},"/users/{userId}/events":{"get":{"tags":["User: события"],"summary":"Получение списка событий","operationId":"getEvents","parameters":[{"name":"userId","in":"path","description":"Id пользователя","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"from","in":"query","required":false,"schema":{"minimum":0,"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EventShortDto"}}}}},"400":{"description":"Некорректные данные запроса"}}},"post":{"tags":["User: события"],"summary":"Создание события","operationId":"createEvent","parameters":[{"name":"userId","in":"path","description":"Id пользователя","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewEventDto"}}},"required":true},"responses":{"201":{"description":"Событие создано","content":{"*/*":{"schema":{"$ref":"#/components/schemas/EventFullDto"}}}},"400":{"description":"Некорректные данные запроса"},"404":{"description":"Нет пользователя с данным id"},"409":{"description":"Поле eventDate должно содержать дату не раньше двух часов от текущей"}}}},"/users/{userId}/events/{eventId}/comments":{"post":{"tags":["User: комментарии"],"summary":"Создание комментария","operationId":"createComment","parameters":[{"name":"userId","in":"path","description":"Id пользователя","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"eventId","in":"path","description":"Id события","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewCommentDto"}}},"required":true},"responses":{"201":{"description":"Комментарий создан","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommentDto"}}}},"400":{"description":"Некорректные данные запроса"},"404":{"description":"Нет события с данным id"}}}},"/admin/users":{"get":{"tags":["Admin: пользователи"],"summary":"Получение списка пользователей","operationId":"getUsers","parameters":[{"name":"ids","in":"query","description":"Список id пользователей","required":false,"schema":{"type":"array","items":{"type":"integer","format":"int64"}}},{"name":"from","in":"query","required":false,"schema":{"minimum":0,"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserDto"}}}}},"400":{"description":"Некорректные данные запроса"}}},"post":{"tags":["Admin: пользователи"],"summary":"Создание пользователя","operationId":"createUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewUserDto"}}},"required":true},"responses":{"201":{"description":"Пользователь создан","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDto"}}}},"400":{"description":"Некорректные данные пользователя"}}}},"/admin/compilations":{"post":{"tags":["Admin: подборки событий"],"summary":"Создание подборки","operationId":"createCompilation","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewCompilationDto"}}},"required":true},"responses":{"201":{"description":"Подборка создана","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CompilationDto"}}}},"400":{"description":"Некорректные данные запроса"},"404":{"description":"Нет события с данным id"}}}},"/admin/categories":{"post":{"tags":["Admin: категории"],"summary":"Создание категории","operationId":"createCategory","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryDto"}}},"required":true},"responses":{"201":{"description":"Категория создана","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CategoryDto"}}}},"400":{"description":"Некорректные данные категории"}}}},"/users/{userId}/requests/{requestId}/cancel":{"patch":{"tags":["User: заявки"],"summary":"Отмена заявки","operationId":"cancelRequest","parameters":[{"name":"userId","in":"path","description":"Id пользователя","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"requestId","in":"path","description":"Id заявки","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Заявка отменена","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RequestDto"}}}},"404":{"description":"Нет заявки с данным id"}}}},"/users/{userId}/events/{eventId}":{"get":{"tags":["User: события"],"summary":"Получение события","operationId":"getEvent","parameters":[{"name":"userId","in":"path","description":"Id пользователя","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"eventId","in":"path","description":"Id события","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"ОК","content":{"*/*":{"schema":{"$ref":"#/components/schemas/EventFullDto"}}}},"404":{"description":"Нет события с данным id"}}},"patch":{"tags":["User: события"],"summary":"Обновление события","operationId":"updateEvent","parameters":[{"name":"userId","in":"path","description":"Id пользователя","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"eventId","in":"path","description":"Id события","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateEventDto"}}},"required":true},"responses":{"200":{"description":"Событие обновлено","content":{"*/*":{"schema":{"$ref":"#/components/schemas/EventFullDto"}}}},"400":{"description":"Некорректные данные запроса"},"404":{"description":"Нет события с данным id"},"409":{"description":"Поле eventDate должно содержать дату не раньше двух часов от текущей"}}}},"/users/{userId}/events/{eventId}/requests":{"get":{"tags":["User: события"],"summary":"Получение заявок на участие в событии","operationId":"getEventRequests","parameters":[{"name":"userId","in":"path","description":"Id пользователя","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"eventId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"ОК","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RequestDto"}}}}},"404":{"description":"Нет события с данным id"}}},"patch":{"tags":["User: события"],"summary":"Изменение статуса у списка заявок","operationId":"updateRequestsStatus","parameters":[{"name":"userId","in":"path","description":"Id пользователя","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"eventId","in":"path","description":"Id события","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RequestStatusUpdateRequest"}}},"required":true},"responses":{"200":{"description":"Статусы обновлены","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RequestStatusUpdateResult"}}}},"400":{"description":"Некорректные данные запроса"},"404":{"description":"Нет события с данным id"},"409":{"description":"Нет прав для данного действия. Пользователи могут только отправлять и снимать события с ревью"}}}},"/users/{userId}/comments/{commentId}":{"delete":{"tags":["User: комментарии"],"summary":"Удаление комментария","operationId":"deleteComment","parameters":[{"name":"userId","in":"path","description":"Id пользователя","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"commentId","in":"path","description":"Id комментария","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Комментарий удалён"},"404":{"description":"Нет комментария с данным id"}}},"patch":{"tags":["User: комментарии"],"summary":"Обновление комментария","operationId":"updateComment","parameters":[{"name":"userId","in":"path","description":"Id пользователя","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"commentId","in":"path","description":"Id комментария","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCommentDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommentDto"}}}},"400":{"description":"Некорректные данные запроса"},"404":{"description":"Нет комментария с данным id"}}}},"/admin/events/{eventId}":{"patch":{"tags":["Admin: события"],"summary":"Обновление события","operationId":"updateEvent_1","parameters":[{"name":"eventId","in":"path","description":"Id события","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateEventDto"}}},"required":true},"responses":{"200":{"description":"Событие обновлено","content":{"*/*":{"schema":{"$ref":"#/components/schemas/EventFullDto"}}}},"400":{"description":"Некорректные данные запроса"},"404":{"description":"Нет события с данным id"},"409":{"description":"Нельзя отменить опубликованное событие. Нельзя опубликовать событие не в статусе PENDING."}}}},"/admin/compilations/{compId}":{"delete":{"tags":["Admin: подборки событий"],"summary":"Удаление подборки","operationId":"deleteCompilation","parameters":[{"name":"compId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Подборка удалена"},"404":{"description":"Нет подборки с данным id"}}},"patch":{"tags":["Admin: подборки событий"],"summary":"Обновление подборки","operationId":"updateCompilation","parameters":[{"name":"compId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCompilationDto"}}},"required":true},"responses":{"200":{"description":"Подборка обновлена","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CompilationDto"}}}},"400":{"description":"Некорректные данные запроса"},"404":{"description":"Нет подборки с данным id"}}}},"/admin/categories/{catId}":{"delete":{"tags":["Admin: категории"],"summary":"Удаление категории","operationId":"deleteCategory","parameters":[{"name":"catId","in":"path","description":"Id категории","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Категория удалена"},"404":{"description":"Нет категории с данным id"}}},"patch":{"tags":["Admin: категории"],"summary":"Обновление категории","operationId":"updateCategory","parameters":[{"name":"catId","in":"path","description":"Id категории","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryDto"}}},"required":true},"responses":{"200":{"description":"Категория обновлена","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CategoryDto"}}}},"400":{"description":"Некорректные данные категории"},"404":{"description":"Нет категории с данным id"}}}},"/events":{"get":{"tags":["Guest: события"],"summary":"Получение списка событий","operationId":"getEvents_1","parameters":[{"name":"text","in":"query","description":"Поиск по тексту в аннотации и описании","required":false,"schema":{"type":"string"}},{"name":"categories","in":"query","description":"Список id категорий","required":false,"schema":{"type":"array","items":{"type":"integer","format":"int64"}}},{"name":"paid","in":"query","description":"Платное событие или нет","required":false,"schema":{"type":"boolean"}},{"name":"rangeStart","in":"query","description":"Дата начала интервала времени","required":false,"schema":{"type":"string"}},{"name":"rangeEnd","in":"query","description":"Дата конца интервала времени","required":false,"schema":{"type":"string"}},{"name":"onlyAvailable","in":"query","description":"Есть ли места","required":false,"schema":{"type":"boolean","default":false}},{"name":"sort","in":"query","description":"Тип сортировки: EVENT_DATE или VIEWS","required":false,"schema":{"type":"string"}},{"name":"from","in":"query","required":false,"schema":{"minimum":0,"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EventShortDto"}}}}},"400":{"description":"Некорректные данные запроса"}}}},"/events/{id}":{"get":{"tags":["Guest: события"],"summary":"Получение события","operationId":"getEvent_1","parameters":[{"name":"id","in":"path","description":"Id события","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/EventFullDto"}}}},"404":{"description":"Нет события с данным id"}}}},"/compilations":{"get":{"tags":["Guest: подборки событий"],"summary":"Получение списка подборок событий","operationId":"getCompilations","parameters":[{"name":"pinned","in":"query","required":false,"schema":{"type":"boolean"}},{"name":"from","in":"query","required":false,"schema":{"minimum":0,"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CompilationDto"}}}}},"400":{"description":"Некорректные данные запроса"}}}},"/compilations/{compId}":{"get":{"tags":["Guest: подборки событий"],"summary":"Получение подборки событий","operationId":"getCompilation","parameters":[{"name":"compId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CompilationDto"}}}},"404":{"description":"Нет подборки с данным id"}}}},"/categories":{"get":{"tags":["Guest: категории"],"summary":"Получение списка категорий","operationId":"getCategories","parameters":[{"name":"from","in":"query","required":false,"schema":{"minimum":0,"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CategoryDto"}}}}}}}},"/categories/{catId}":{"get":{"tags":["Guest: категории"],"summary":"Получение категории","operationId":"getCategory","parameters":[{"name":"catId","in":"path","description":"Id категории","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CategoryDto"}}}},"404":{"description":"Нет категории с данным id"}}}},"/admin/events":{"get":{"tags":["Admin: события"],"summary":"Получение списка событий","operationId":"getEvents_2","parameters":[{"name":"users","in":"query","description":"Список id пользователей","required":false,"schema":{"type":"array","items":{"type":"integer","format":"int64"}}},{"name":"states","in":"query","description":"Список статусов событий","required":false,"schema":{"type":"array","items":{"type":"string","enum":["PENDING","PUBLISHED","CANCELED"]}}},{"name":"categories","in":"query","description":"Список id категорий","required":false,"schema":{"type":"array","items":{"type":"integer","format":"int64"}}},{"name":"rangeStart","in":"query","description":"Дата начала интервала времени","required":false,"schema":{"type":"string"}},{"name":"rangeEnd","in":"query","description":"Дата конца интервала времени","required":false,"schema":{"type":"string"}},{"name":"from","in":"query","required":false,"schema":{"minimum":0,"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EventFullDto"}}}}},"400":{"description":"Некорректные данные запроса"}}}},"/admin/comments":{"get":{"tags":["Admin: комментарии"],"summary":"Просмотр комментариев","operationId":"getComments","parameters":[{"name":"events","in":"query","description":"Список id событий","required":false,"schema":{"type":"array","items":{"type":"integer","format":"int64"}}},{"name":"rangeStart","in":"query","description":"Дата начала интервала времени","required":false,"schema":{"type":"string"}},{"name":"rangeEnd","in":"query","description":"Дата конца интервала времени","required":false,"schema":{"type":"string"}},{"name":"from","in":"query","required":false,"schema":{"minimum":0,"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommentDto"}}}}},"400":{"description":"Некорректные данные запроса"}}}},"/admin/users/{userId}":{"delete":{"tags":["Admin: пользователи"],"summary":"Удаление пользователя","operationId":"deleteUser","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Пользователь удалён"},"404":{"description":"Нет пользователя с данным id"}}}},"/admin/comments/{commentId}":{"delete":{"tags":["Admin: комментарии"],"summary":"Удаление комментария","operationId":"deleteComment_1","parameters":[{"name":"commentId","in":"path","description":"Id комментария","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Комментарий удалён"},"404":{"description":"Нет комментария с данным id"}}}}},"components":{"schemas":{"RequestDto":{"type":"object","properties":{"id":{"type":"integer","description":"Идентификатор заявки","format":"int64","example":1},"requester":{"type":"integer","description":"Идентификатор автора завки","format":"int64","example":2},"event":{"type":"integer","description":"Идентификатор события","format":"int64","example":3},"created":{"type":"string","description":"Дата создания заявки","readOnly":true,"example":"2000-01-01T00:00:00:000"},"status":{"type":"string","readOnly":true,"enum":["PENDING","CONFIRMED","REJECTED","CANCELED"]}},"description":"Сущность заявки на участие в событии"},"Location":{"required":["lat","lon"],"type":"object","properties":{"lat":{"maximum":90.0,"exclusiveMaximum":false,"minimum":-90.0,"exclusiveMinimum":false,"type":"number","description":"Широта","format":"float"},"lon":{"maximum":180.0,"exclusiveMaximum":false,"minimum":-180.0,"exclusiveMinimum":false,"type":"number","description":"Долгота","format":"float"}},"description":"Место проведения события"},"NewEventDto":{"required":["annotation","category","description","eventDate","location","title"],"type":"object","properties":{"annotation":{"maxLength":2000,"minLength":20,"type":"string","description":"Аннотация события","example":"Очень интересное и оригинальное событие"},"category":{"type":"integer","description":"Id категории","format":"int64","example":1},"description":{"maxLength":7000,"minLength":20,"type":"string","description":"Описание события","example":"Очень интересное и оригинальное описание"},"eventDate":{"type":"string","description":"Дата события","example":"2000-01-01 00:00:00"},"location":{"$ref":"#/components/schemas/Location"},"paid":{"type":"boolean","description":"Платное событие или нет"},"participantLimit":{"type":"integer","description":"Максимальное число участников события","format":"int32"},"requestModeration":{"type":"boolean","description":"Нужна ли модерация запросов на участие"},"title":{"maxLength":120,"minLength":3,"type":"string","description":"Название события","example":"Мой праздник"}},"description":"Новое событие"},"CategoryDto":{"required":["name"],"type":"object","properties":{"id":{"type":"integer","description":"Идентификатор категории","format":"int64","readOnly":true,"example":1},"name":{"maxLength":50,"type":"string","description":"Название категории","example":"Выставки"}},"description":"Сущность категории"},"CommentDto":{"type":"object","properties":{"id":{"type":"integer","description":"Идентификатор комментария","format":"int64","example":1},"author":{"$ref":"#/components/schemas/UserShortDto"},"text":{"type":"string","description":"Текст комментария","example":"Лучший комментарий"},"created":{"type":"string","description":"Дата создания комментария","example":"2000-01-01 00:00:00"}},"description":"Сущность комментария"},"EventFullDto":{"type":"object","properties":{"id":{"type":"integer","description":"Идентификатор события","format":"int64","example":1},"annotation":{"type":"string","description":"Аннотация события","example":"Очень интересное и оригинальное событие"},"category":{"$ref":"#/components/schemas/CategoryDto"},"comments":{"type":"array","description":"Комментарии к событию","items":{"$ref":"#/components/schemas/CommentDto"}},"confirmedRequests":{"type":"integer","description":"Подтверждённые запросы на участие","format":"int64","example":5},"createdOn":{"type":"string","description":"Дата создания события","example":"2000-01-01 00:00:00"},"description":{"type":"string","description":"Описание события","example":"Очень интересное и оригинальное описание"},"eventDate":{"type":"string","description":"Дата проведения события","example":"2000-01-01 00:00:00"},"initiator":{"$ref":"#/components/schemas/UserShortDto"},"location":{"$ref":"#/components/schemas/Location"},"paid":{"type":"boolean","description":"Платное событие или нет"},"participantLimit":{"type":"integer","description":"Максимальное число участников события","format":"int32"},"publishedOn":{"type":"string","description":"Дата публикации события","example":"2000-01-01 00:00:00"},"requestModeration":{"type":"boolean","description":"Нужна ли модерация запросов на участие"},"state":{"type":"string","description":"Статус события","enum":["PENDING","PUBLISHED","CANCELED"]},"title":{"type":"string","description":"Название события","example":"Мой праздник"},"views":{"type":"integer","description":"Число уникальных простмотров события","format":"int64","example":10}},"description":"Полная сущность события"},"UserShortDto":{"type":"object","properties":{"id":{"type":"integer","description":"Идентификатор пользователя","format":"int64","example":1},"name":{"type":"string","description":"Имя пользователя","example":"Иван"}},"description":"Краткая сущность пользователя"},"NewCommentDto":{"required":["text"],"type":"object","properties":{"text":{"maxLength":10000,"minLength":2,"type":"string","description":"Текст комментария","example":"Лучший комментарий"}},"description":"Новый комментарий"},"NewUserDto":{"required":["email","name"],"type":"object","properties":{"name":{"maxLength":250,"minLength":2,"type":"string","description":"Имя пользователя","example":"Иван"},"email":{"maxLength":254,"minLength":6,"type":"string","description":"Почта пользователя","example":"ivan@mymail.ru"}},"description":"Новый пользователь"},"UserDto":{"type":"object","properties":{"id":{"type":"integer","description":"Идентификатор пользователя","format":"int64","example":1},"name":{"type":"string","description":"Имя пользователя","example":"Иван"},"email":{"type":"string","description":"Почта пользователя","example":"ivan@mymail.ru"}},"description":"Сущность пользователя"},"NewCompilationDto":{"required":["title"],"type":"object","properties":{"title":{"maxLength":50,"type":"string","description":"Название подборки","example":"Мои любимые экскурсии"},"pinned":{"type":"boolean","description":"Отображается ли на главной странице","example":true},"events":{"uniqueItems":true,"type":"array","description":"Список id событий","example":[1,2,3],"items":{"type":"integer","description":"Список id событий","format":"int64"}}},"description":"Новая подборка событий"},"CompilationDto":{"type":"object","properties":{"id":{"type":"integer","description":"Идентификатор события","format":"int64","example":1},"title":{"type":"string","description":"Название подборки","example":"Необычные экскурсии"},"pinned":{"type":"boolean","description":"Отображается ли на главной странице","example":true},"events":{"type":"array","description":"Список событий","items":{"$ref":"#/components/schemas/EventShortDto"}}},"description":"Сущность подборки событий"},"EventShortDto":{"type":"object","properties":{"id":{"type":"integer","description":"Идентификатор события","format":"int64","example":1},"annotation":{"type":"string","description":"Аннотация события","example":"Очень интересное и оригинальное событие"},"category":{"$ref":"#/components/schemas/CategoryDto"},"confirmedRequests":{"type":"integer","description":"Подтверждённые запросы на участие","format":"int64","example":5},"eventDate":{"type":"string","description":"Дата проведения события","example":"2000-01-01 00:00:00"},"initiator":{"$ref":"#/components/schemas/UserShortDto"},"paid":{"type":"boolean","description":"Платное событие или нет"},"title":{"type":"string","description":"Название события","example":"Мой праздник"},"views":{"type":"integer","description":"Число уникальных простмотров события","format":"int64","example":10}},"description":"Краткая сущность события"},"UpdateEventDto":{"type":"object","properties":{"annotation":{"maxLength":2000,"minLength":20,"type":"string","description":"Аннотация события","example":"Очень интересное и оригинальное событие"},"category":{"type":"integer","description":"Id категории","format":"int64","example":1},"description":{"maxLength":7000,"minLength":20,"type":"string","description":"Описание события","example":"Очень интересное и оригинальное описание"},"eventDate":{"type":"string","description":"Дата события","example":"2000-01-01 10:00:00"},"location":{"$ref":"#/components/schemas/Location"},"paid":{"type":"boolean","description":"Платное событие или нет"},"participantLimit":{"type":"integer","description":"Максимальное число участников события","format":"int32"},"requestModeration":{"type":"boolean","description":"Нужна ли модерация запросов на участие"},"stateAction":{"type":"string","description":"Изменение статуса события","enum":["SEND_TO_REVIEW","CANCEL_REVIEW","PUBLISH_EVENT","REJECT_EVENT"]},"title":{"maxLength":120,"minLength":3,"type":"string","description":"Название события","example":"Мой праздник"}},"description":"Обновление события"},"RequestStatusUpdateRequest":{"required":["status"],"type":"object","properties":{"requestIds":{"type":"array","description":"Список id заявок","items":{"type":"integer","description":"Список id заявок","format":"int64"}},"status":{"type":"string","description":"Новый статус заявок","enum":["PENDING","CONFIRMED","REJECTED","CANCELED"]}},"description":"Запрос на изменение статуса указанных заявок"},"RequestStatusUpdateResult":{"type":"object","properties":{"confirmedRequests":{"type":"array","description":"Список подтверждённых заявок","items":{"$ref":"#/components/schemas/RequestDto"}},"rejectedRequests":{"type":"array","description":"Список отменённых заявок","items":{"$ref":"#/components/schemas/RequestDto"}}},"description":"Результат изменения id заявок"},"UpdateCommentDto":{"required":["text"],"type":"object","properties":{"text":{"maxLength":10000,"minLength":2,"type":"string","description":"Текст комментария","example":"Лучший комментарий"}},"description":"Обновление комментария"},"UpdateCompilationDto":{"type":"object","properties":{"title":{"maxLength":50,"type":"string","description":"Название подборки","example":"Мои любимые экскурсии"},"pinned":{"type":"boolean","description":"Отображается ли на главной странице","example":true},"events":{"uniqueItems":true,"type":"array","description":"Список id событий","example":[1,2,3],"items":{"type":"integer","description":"Список id событий","format":"int64"}}},"description":"Обновление подборки событий"}}}}